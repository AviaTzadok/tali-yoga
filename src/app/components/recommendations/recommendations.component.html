<section id="recommendations" class="recommendations section">
  <div class="container">
    <h2 class="section-title">
      <span class="title-icon">ðŸ’¬</span>
      ×”×ž×œ×¦×•×ª
    </h2>
    
    <div class="recommendations-carousel">
      <div class="chat-wrapper" (mouseenter)="onMouseEnter()" (mouseleave)="onMouseLeave()">
        <button 
          class="carousel-btn next-btn" 
          (click)="nextRecommendation()"
          aria-label="×”×ž×œ×¦×” ×”×‘××”">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>

        <div class="chat-container">
          <div class="chat-bubble" [@slideAnimation]="animationState()">
            <div class="message-content">
              <pre class="message-text">{{ currentRecommendation().message }}</pre>
              <div class="message-timestamp">
                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M6 1C3.24 1 1 3.24 1 6C1 8.76 3.24 11 6 11C8.76 11 11 8.76 11 6C11 3.24 8.76 1 6 1ZM6 10C3.79 10 2 8.21 2 6C2 3.79 3.79 2 6 2C8.21 2 10 3.79 10 6C10 8.21 8.21 10 6 10Z" fill="currentColor"/>
                  <path d="M6 3V6L8 7.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
                {{ currentRecommendation().timestamp }}
              </div>
            </div>
          </div>
        </div>

        <button 
          class="carousel-btn prev-btn" 
          (click)="previousRecommendation()"
          aria-label="×”×ž×œ×¦×” ×§×•×“×ž×ª">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>

      <div class="carousel-navigation">
        <div class="dot-indicators">
          @for (rec of recommendations(); track rec.id; let i = $index) {
            <button
              class="dot-indicator"
              [class.active]="i === currentIndex()"
              (click)="goToRecommendation(i)"
              [attr.aria-label]="'×¢×‘×•×¨ ×œ×”×ž×œ×¦×” ' + (i + 1)">
            </button>
          }
        </div>
      </div>
    </div>
  </div>
</section>
